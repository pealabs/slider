<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport"content="width=device-width, height=device-height, initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0, user-scalable=no" />
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="-1">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>

<style>
ul	{list-style:none; padding:0px; margin:0;}
ul li	{list-style:none; padding:0px; float:left;}
ul li:hover	{background-color:#e5e5e5;}
</style>
<script>
$(document).ready(function() 
{
	var s1 = new slider({
		slider:'slider'
		,contents:'contents'
		,content:'content'
		,right:'right'
		,left:'left'
		,navi:'navi'
		,width:300
		,height:100
		,switchingSpeed:500
		,rotationalSpeed:2000
		,autoRepeat:true
	}).run();
	
})

function slider(opt)
{
	var sn = opt.slider; //슬라이더 명
	var cns = opt.contents;//컨텐츠 ul 명
	var cn = opt.content;//컨텐츠 li 명
	var sw = opt.width; //슬라이더 뷰어 너비
	var sh = opt.height; //슬라이더 뷰어 폭
	var cc = $('.'+cn).length; //컨텐츠  갯수
	var ctw = sw*cc; //컨텐츠 총 길이
	var sp = opt.switchingSpeed; //슬라이드 속도
	var rs = opt.rotationalSpeed; //반복 속도
	var ar = opt.autoRepeat;//자동 반복
	var rmv = opt.right; //오른쪽 이동 버튼 명
	var lmv = opt.left;//왼쪽 이동 버튼 명
	
	this.run = init
	
	function init()
	{
		$('.'+sn).css('overflow','hidden');
		$('.'+sn).css('margin','0px');
		$('.'+sn).css('padding','0px');
		$('.'+sn).css('width',sw+'px');
		$('.'+sn).css('heigth',sh+'px');
		$('.'+sn).css('z-index','9');

		$('.'+cns).css('width',ctw+'px');
		
		$('.'+cn).css('width',sw+'px');
		$('.'+cn).css('height',sh+'px');
		
		$('.'+rmv).click(function(){
			movement(0);
		})
		$('.'+lmv).click(function(){
			movement(1);
		})

		if(opt.autoRepeat)
		{
			setInterval(function() {
				movement(0);
			}, opt.rotationalSpeed );
		}
	}	
	function movement(cmd)
	{
		//console.info($('.'+cns).attr('pos'));
		var mv = 0;
		if(cmd==0)
		{
			mv = sw+Number($('.'+cns).attr('pos'));
			if(mv==ctw){
				$('.'+cn).last().after($('.'+cn).first());
				//mv = 0;
			}
		}
		if(cmd==1)
		{
			mv = Number($('.'+cns).attr('pos'))-sw;
		}
		
		//이동
		$('.'+sn).animate({
			scrollLeft:mv
		}, sp, function() {
			//현재 위치
			$('.'+cns).attr('pos',$('.'+sn).scrollLeft());
			//$('.'+cn).last().after($('.'+cn).first());
		});
	}
}
</script>
</head>
<body>
<div class="slider">
	<ul class="contents" pos="0">
		<li class="content">
			1
		</li>
		<li class="content">
			2
		</li>
		<li class="content">
			3
		</li>
		<li class="content">
			4
		</li>
	</ul>
</div>
<div class="left">좌</div>
<div class="right">우</div>

</body>
</html>
